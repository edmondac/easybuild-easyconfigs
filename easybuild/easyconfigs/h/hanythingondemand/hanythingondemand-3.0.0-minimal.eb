easyblock = 'VersionIndependentPythonPackage'

name = 'hanythingondemand'
version = '3.0.0-beta'
versionsuffix = '-minimal'

homepage = 'https://github.com/hpcugent/hanythingondemand'
description = """HanythingOnDemand (HOD) is a system for provisioning virtual Hadoop clusters over a large physical cluster.
It uses the Torque resource manager to do node allocation."""

toolchain = {'name': 'dummy', 'version': ''}

source_urls = [
    'https://github.com/hpcugent/hanythingondemand/archive/'
]
sources = ['0d73030.tar.gz']

# minimal version for interactive use: just uses system Python (netaddr/netifaces/mpi4py not required)
dependencies = [
    ('pbs_python', '4.6.0'),
    ('vsc-mympirun', '3.4.2', '-vsc-base-2.2.5'),
]

options = {'modulename': 'hod'}

modextravars = {
    'HOD_BATCH_WORKDIR': '\$VSC_SCRATCH/hod',
    'HOD_BATCH_HOD_MODULE': 'hanythingondemand/.3.0.0-beta-intel-2015b-Python-2.7.10',
    'HOD_CREATE_WORKDIR': '\$VSC_SCRATCH/hod',
    'HOD_CREATE_HOD_MODULE': 'hanythingondemand/.3.0.0-beta-intel-2015b-Python-2.7.10',
}

sanity_check_commands = [('hod', '--help')]

moduleclass = 'tools'
