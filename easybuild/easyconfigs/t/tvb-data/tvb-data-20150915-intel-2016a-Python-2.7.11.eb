easyblock = 'PythonPackage'

name = 'tvb-data'
version = '20150915'
commit = '212e60b'
versionsuffix = '-Python-%(pyver)s'

homepage = 'http://www.thevirtualbrain.org/'
description = """The Virtual Brain Project (TVB Project) has the purpose of offering some modern tools to the
 Neurosciences community, for computing, simulating and analyzing functional and structural data of human brains.
 Various demonstration data for use with TVB."""

toolchain = {'name': 'intel', 'version': '2016a'}

source_urls = ['https://github.com/the-virtual-brain/tvb-data/archive/']
sources = ['%s.tar.gz' % commit]

freetype_ver = '2.6.3'
dependencies = [
    ('Python', '2.7.11'),  # provides numpy, Cython
    ('networkx', '1.11', versionsuffix),
    ('numexpr', '2.6.0', versionsuffix),
    ('gdist', '1.0.3', versionsuffix),
    ('NiBabel', '2.0.2', versionsuffix + '-freetype-%s' % freetype_ver),
    ('scikit-learn', '0.17.1', versionsuffix + '-freetype-%s' % freetype_ver),
    ('matplotlib', '1.5.1', versionsuffix + '-freetype-%s' % freetype_ver),
    ('lxml', '3.6.0', versionsuffix),
    ('h5py', '2.6.0', versionsuffix),
]

buildininstalldir = True
use_setup_py_develop = True

options = {'modulename': 'tvb_data'}

sanity_check_paths = {
    'files': [],
    'dirs': ['lib/python%(pyshortver)s/site-packages'],
}

moduleclass = 'lib'
