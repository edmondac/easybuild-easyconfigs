easyblock = 'ConfigureMake'

name = 'texinfo'
version = '5.2'

homepage = 'https://www.gnu.org/software/texinfo/'
description = """Texinfo is the official documentation format of the GNU project."""

source_urls = [GNU_SOURCE]
sources = [SOURCELOWER_TAR_XZ]

toolchain = {'name': 'GCC', 'version': '4.8.2'}

osdependencies = ['texlive']

preinstallopts = "mkdir -p %(installdir)s/texmf/{doc,tex}/{context,eplain,generic,latex,lualatex,plain,xelatex,xetex} && "
preinstallopts += "make TEXMF=%(installdir)s/texmf install-tex && "

# This will overwrite a users TEXMFHOME so this module should only really be used as a build dependency
modextravars = {'TEXMFHOME': '%(installdir)s/texmf'}

sanity_check_paths = {
    'files': ['bin/info', 'bin/makeinfo', 'bin/pod2texi', 'bin/texi2pdf'],
    'dirs': [],
}

moduleclass = 'devel'
