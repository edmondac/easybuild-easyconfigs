name = 'g2lib'
version = '3.1.0'

homepage = 'http://www.nco.ncep.noaa.gov/pmb/codes/GRIB2/'
description = """Library contains GRIB2 encoder/decoder and search/indexing routines."""

toolchain = {'name': 'intel', 'version': '2018a'}

source_urls = [homepage]
sources = ['%(name)s-%(version)s.tar']
patches = ['g2lib-3.1.0_fix-makefile.patch']
checksums = [
    '8a2de259de82094c5867f8d7945359f211592a4a503f9ed65dc60469337414e7',  # g2lib-3.1.0.tar
    '0674b3db862aed0885d5213288892791646749524604239100f90c0d1d181f74',  # g2lib-3.1.0_fix-makefile.patch
]

dependencies = [
    ('JasPer', '1.900.1'),
    ('libpng', '1.6.34'),
]

#buildopts = 'CFLAGS="$CFLAGS -DLINUXG95 -D__64BIT__" FFLAGS="$FFLAGS -fpp -I."'

# parallel build tends to fail
parallel = 1

moduleclass = 'data'
