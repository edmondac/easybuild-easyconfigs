easyblock = 'PythonPackage'

name = 'GC3Pie'
version = '2.3.dev'

homepage = 'https://gc3pie.readthedocs.org'
description = """GC3Pie is a Python package for running large job campaigns on diverse batch-oriented execution
 environments."""

toolchain = {'name': 'dummy', 'version': 'dummy'}

# svn checkout http://gc3pie.googlecode.com/svn/trunk/ gc3pie
# gc3pie-2.3.dev.tar.gz gc3pie
sources = ['gc3pie-%(version)s.tar.gz']

start_dir = 'gc3pie'

# allow use of system python
allow_system_deps = [('python', SYS_PYTHON_VERSION)]

pyshortver = '.'.join(SYS_PYTHON_VERSION.split('.')[:2])

options = {'modulename': 'gc3libs'}

sanity_check_paths = {
  'files': ['bin/gc3utils', 'lib/python%(pyver)s/site-packages/gc3pie-%%(version)s-py%(pyver)s.egg' % {'pyver': pyshortver}],
  'dirs': [],
}

sanity_check_commands = [('gc3utils', 'info --version')]

moduleclass = 'tools'
