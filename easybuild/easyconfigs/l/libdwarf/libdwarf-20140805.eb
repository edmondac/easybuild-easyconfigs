easyblock = 'MakeCp'

name = 'libdwarf'
version = '20140805'

homepage = 'http://www.prevanders.net/dwarf.html'
description = """The DWARF Debugging Information Format is of interest to programmers working on compilers
and debuggers (and anyone interested in reading or writing DWARF information))"""

toolchain = {'name': 'dummy', 'version': ''}
toolchainopts = {}

sources = [SOURCE_TAR_GZ]
source_urls = ['http://www.prevanders.net']

with_configure = True
preconfigopts = "CFLAGS='-fPIC' "
configopts = "--enable-shared "

# dirty...
prebuildopts = ' LD_LIBRARY_PATH="../libdwarf:$LD_LIBRARY_PATH" '

files_to_copy = [(["dwarfdump2/dwarfdump"], "bin"), (["libdwarf/libdwarf.a", "libdwarf/libdwarf.so"], "lib"),  (["libdwarf/libdwarf.h"], "include")]

dependencies = [('libelf', '0.8.13')]

sanity_check_paths = {
    'files': [],
    'dirs': ["."]
}

moduleclass = 'devel'
