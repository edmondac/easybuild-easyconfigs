name = 'csv'
version = '1.3.3'

homepage = 'https://forge.ocamlcore.org/projects/csv/'
description = """This is a pure OCaml library to read and write CSV files, including all extensions used by Excel --
 e.g., quotes, newlines, 8 bit characters in fields, "0 etc."""

toolchain = {'name': 'ictce', 'version': '5.5.0'}

source_urls = ['https://forge.ocamlcore.org/frs/download.php/1376/']
sources = [SOURCE_TAR_GZ]

patches = ['csv-%(version)s_prefix.patch']

ocaml = 'OCaml'
ocamlver = '4.01.0'
versionsuffix = '-%s-%s' % (ocaml, ocamlver)

builddependencies = [('findlib', '1.5.2', versionsuffix)]
dependencies = [(ocaml, ocamlver)]

skipsteps = ['configure', 'build']

preinstallopts = "mkdir -p %(installdir)s/site-lib && OCAMLFIND_DESTDIR=%(installdir)s/site-lib PREFIX=%(installdir)s "

parallel = 1

modextrapaths = {'OCAMLPATH': 'site-lib'}

sanity_check_paths = {
    'files': ['bin/csvtool'],
    'dirs': ['site-lib/csv'],
}

moduleclass = 'tools'
