name = 'CamlZIP'
version = '1.05'

homepage = 'https://forge.ocamlcore.org/projects/camlzip/'
description = """This OCaml library provides easy access to compressed files in ZIP
 and GZIP format, as well as to Java JAR files. It provides functions
 for reading from and writing to compressed files in these formats."""

toolchain = {'name': 'ictce', 'version': '5.5.0'}

source_urls = ['https://forge.ocamlcore.org/frs/download.php/1037/']
sources = [SOURCE_TAR_GZ]

ocaml = 'OCaml'
ocamlver = '4.01.0'
versionsuffix = '-%s-%s' % (ocaml, ocamlver)

builddependencies = [('findlib', '1.5.2', versionsuffix)]
dependencies = [
    (ocaml, ocamlver),
    ('zlib', '1.2.7'),
]

skipsteps = ['configure', 'install']

prebuildopts = "mkdir -p %(installdir)s/site-lib && "
buildopts = 'all && make allopt && OCAMLFIND_DESTDIR=%(installdir)s/site-lib make install-findlib'

modextrapaths = {'OCAMLPATH': 'site-lib'}

sanity_check_paths = {
    'files': [],
    'dirs': ['site-lib/zip'],
}

moduleclass = 'tools'
