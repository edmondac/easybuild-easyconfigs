name = 'batteries'
version = '2.2'

homepage = 'http://batteries.forge.ocamlcore.org/'
description = """OCaml Batteries included (or simply "Batteries") is a community-driven effort to standardize on an
 consistent, documented, and comprehensive development platform for the OCaml programming language."""

toolchain = {'name': 'ictce', 'version': '5.5.0'}

source_urls = ['http://forge.ocamlcore.org/frs/download.php/1363/']
sources = [SOURCE_TAR_GZ]

ocaml = 'OCaml'
ocamlver = '4.01.0'
versionsuffix = '-%s-%s' % (ocaml, ocamlver)

builddependencies = [('findlib', '1.5.2', versionsuffix)]
dependencies = [(ocaml, ocamlver)]

skipsteps = ['configure']

buildopts = 'all'
preinstallopts = "mkdir -p %(installdir)s/site-lib && OCAMLFIND_DESTDIR=%(installdir)s/site-lib"

modextrapaths = {'OCAMLPATH': 'site-lib'}

sanity_check_paths = {
    'files': [],
    'dirs': ['site-lib/batteries'],
}

moduleclass = 'tools'
