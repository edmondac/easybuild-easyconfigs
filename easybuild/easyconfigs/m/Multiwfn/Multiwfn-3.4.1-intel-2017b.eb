easyblock = 'CmdCp'

name = 'Multiwfn'
version = '3.4.1'

homepage = 'http://sobereva.com/multiwfn/'
description = "A multifunctional wavefunction analyzer"

toolchain = {'name': 'intel', 'version': '2017b'}

source_urls = ['http://sobereva.com/multiwfn/misc/']
sources = ['%(name)s_%(version)s_src_Linux.zip']
checksums = ['07141333f59a4bb3e3855a0c6c2ac61ae0aa9009bd40b375848ea2b641d4ab8f']

# The order of the source files is important!
# The source files are copied from the original Makefile
source_files = """"Lebedev-Laikov.F DFTxclib.F edflib.f90 define.f90 util.f90 function.f90 sub.f90 fileIO.f90 \
spectrum.f90 DOS.f90 wfn.f90 LSB.f90 population.f90 compana.f90 bondana.f90 topology.f90 excittransana.f90 \
otherfunc.f90 otherfunc2.f90 surfana.f90 procgriddata.f90 AdNDP.f90 fuzzyana.f90 CDA.f90 basinana.f90 atmraddens.f90"""

cmds_map = [('.*', '/bin/bash noGUI.sh && cd noGUI && $FC $FCFLAGS -qopenmp %s $LDFLAGS $LIBBLAS $LIBLAPACK -o ../Multiwfn' % source_files)]

files_to_copy = [(['Multiwfn'], 'bin')]

sanity_check_paths = {
    'files': ['bin/Multiwfn'],
    'dirs': [],
}

moduleclass = 'chem'
