##
# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
#
# Copyright:: Copyright 2013-2014 The Cyprus Institute
# Authors:: Thekla Loizou <t.loizou@cyi.ac.cy>
# License:: MIT/GPL
#
##

easyblock = "EB_METHPIPE"

name = 'MethPipe'
version = '3.0.1'

homepage = 'http://smithlab.usc.edu/methpipe/'
description = """The MethPipe software package is a computational pipeline for analyzing bisulfite sequencing data (BS-seq, WGBS and RRBS)."""

toolchain = {'name': 'goolf', 'version': '1.4.10'}

source_urls = ["smithlab.usc.edu/methbase/download"]

sources = ['%s-%s.tar.gz' % (name.lower(), version)]

makeopts = 'all'
makeopts += ' LIBS="-L$EBROOTGSL/lib -lgsl -lgslcblas -L$EBROOTZLIB/lib -lz" '

installopts = ' LIBS="-L$EBROOGSL/lib -lgsl -lgslcblas -L$EBROOTZLIB/lib -lz" '

files_to_copy = ["bin", "docs"]

dependencies = [
       ('GSL', '1.15'),
       ('zlib', '1.2.7'),
]

sanity_check_paths = {
        'files': ["bin/allelicmeth", "bin/amrfinder", "bin/amrtester", "bin/bsrate", "bin/dmr", "bin/duplicate-remover", "bin/hmr", "bin/hmr_plant", "bin/lc_approx", "bin/levels", "bin/merge-bsrate", "bin/merge-methcounts", "bin/methcounts", "bin/methdiff", "bin/methstates", "bin/pmd", "bin/rmapbs", "bin/rmapbs-pe", "bin/roimethstat", "bin/to-mr"],
        'dirs': []
}

moduleclass = 'bio'
