# Built with EasyBuild version 1.15.2 on 2014-12-11_18-03-37
# This file is an EasyBuild reciPY as per https://github.com/hpcugent/easybuild
# Author: Pablo Escobar Lopez
# Swiss Institute of Bioinformatics (SIB)
# Biozentrum - University of Basel

easyblock = "PythonPackage"

name = 'MACS'
version = '1.4.2-1'

homepage = 'http://liulab.dfci.harvard.edu/MACS/'
description = """ Model-based Analysis of ChIP-Seq (MACS) on short reads sequencers 
 such as Genome Analyzer (Illumina / Solexa). MACS empirically models the length of 
 the sequenced ChIP fragments, which tends to be shorter than sonication or library 
 construction size estimates, and uses it to improve the spatial resolution of predicted 
 binding sites. MACS also uses a dynamic Poisson distribution to effectively capture 
 local biases in the genome sequence, allowing for more sensitive and robust prediction."""

toolchain = {'name': 'goolf', 'version': '1.4.10'}

source_urls = ['https://github.com/downloads/taoliu/MACS/']
sources = [SOURCE_TAR_GZ]

python = 'Python'
pyver = '2.7.5'
pyshortver = '.'.join(pyver.split('.')[:2])

versionsuffix = "-%s-%s" % (python, pyver)

options = {'modulename': 'MACS14'}

dependencies = [
    (python, pyver),
]

sanity_check_paths = {
    'files': ['bin/macs14'],
    'dirs': [''],
}

moduleclass = 'bio'


# Build statistics
buildstats = [{
    "easybuild-framework_version": "1.15.2",
    "easybuild-easyblocks_version": "1.15.2",
    "timestamp": 1418317417,
    "build_time": 55.91,
    "install_size": 412887,
    "command_line": ['--buildpath=/tmp/easybuild', '--installpath=/import/bc2', '--modules-tool=Lmod', '--repositorypath=/import/bc2/soft/centos6/installation_recipes/installed_easyconfigs_sandybridge', '--sourcepath=/import/bc2/soft/source', '--subdir-software=apps', 'MACS-1.4.2-1-goolf-1.4.10.eb'],
    "modules_tool": ('Lmod', '/import/bc2/soft/system/apps/lmod/lmod/libexec/lmod', '5.7.4'),
    "core_count": 16,
    "cpu_model": "Intel(R) Xeon(R) CPU E5-2670 0 @ 2.60GHz",
    "cpu_speed": 2601.0,
    "cpu_vendor": "Intel",
    "gcc_version": "Using built-in specs.; COLLECT_GCC=gcc; COLLECT_LTO_WRAPPER=/import/bc2/apps/GCC/4.7.2/libexec/gcc/x86_64-unknown-linux-gnu/4.7.2/lto-wrapper; Target: x86_64-unknown-linux-gnu; Configured with: ../configure --enable-languages=c,c++,fortran,lto --enable-lto --enable-checking=release --disable-multilib --enable-shared=yes --enable-static=yes --enable-threads=posix --enable-gold=default --enable-plugins --enable-ld --with-plugin-ld=ld.gold --enable-bootstrap --prefix=/import/bc2/apps/GCC/4.7.2 --with-local-prefix=/import/bc2/apps/GCC/4.7.2; Thread model: posix; gcc version 4.7.2 (GCC) ; ",
    "glibc_version": "2.12",
    "hostname": "login11",
    "kernel_name": "Linux",
    "os_name": "centos",
    "os_type": "Linux",
    "os_version": "6.5",
    "platform_name": "x86_64-unknown-linux",
    "python_version": "2.6.6 (r266:84292, Nov 22 2013, 12:16:22) ; [GCC 4.4.7 20120313 (Red Hat 4.4.7-4)]",
    "system_gcc_path": "/import/bc2/apps/GCC/4.7.2/bin/gcc",
    "system_python_path": "/import/bc2/apps/Python/2.7.5-goolf-1.4.10/bin/python",
}]
